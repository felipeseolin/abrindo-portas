<div class="field" [formGroup]="form">
  <label class="label"
         [class.has-text-success]="isRequired && formSubmitted && !formControl(name).errors"
         [class.has-text-danger]="formSubmitted && formControl(name).errors"
         [htmlFor]="id">
    {{ label }}
    <small *ngIf="!isRequired" class="has-text-grey">(Opcional)</small>
  </label>
  <div class="has-icons-right" [class.control]="isControl" [class.has-icons-left]="icon">
    <input [id]="id" [name]="name"
           class="input {{size}}"
           [class.is-success]="formSubmitted && !formControl(name).errors"
           [class.is-danger]="formSubmitted && formControl(name).errors"
           [type]="type"
           [placeholder]="placeholder"
           [required]="isRequired"
           [readOnly]="isReadOnly"
           [formControlName]="name"
    >
    <span class="icon is-small is-left"
          [class.has-text-danger]="formSubmitted && formControl(name).errors"
          [class.has-text-success]="isRequired && formSubmitted && !formControl(name).errors"
    >
      <i [class]="icon"></i>
    </span>
    <span class="icon is-small is-right"
          [class.has-text-danger]="formSubmitted && formControl(name).errors"
          [class.has-text-success]="isRequired && formSubmitted && !formControl(name).errors"
    >
      <i class="ion"
         [class.ion-md-close]="formSubmitted && formControl(name).errors"
         [class.ion-md-checkmark]="formSubmitted && !formControl(name).errors"
      ></i>
    </span>
    <ng-content></ng-content>
  </div>
</div>
